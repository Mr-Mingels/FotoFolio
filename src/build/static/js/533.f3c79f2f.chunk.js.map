{"version":3,"file":"static/js/533.f3c79f2f.chunk.js","mappings":"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","sources":["components/Search.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import like from '../assets/like.png'\r\nimport download from '../assets/download.png'\r\nimport '../styles/Search.css'\r\nimport { useLocation  } from \"react-router-dom\";\r\nimport React, { useEffect, useState, useRef, useCallback } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport 'react-lazy-load-image-component/src/effects/blur.css';\r\n\r\nconst Search = ({ getLikedImages }) => {\r\n    const [isLoading, setIsLoading] = useState(true)\r\n    const [loadingMoreImages, setLoadingMoreImages] = useState(false);\r\n    const [page, setPage] = useState(0);\r\n    const [allImages, setAllImages] = useState([[], [], []]);\r\n    const [downloadDisabled, setDownloadDisabled] = useState(false);\r\n    const [noResultsFound, setNoResultsFound] = useState(false)\r\n    const [loadedImageIds, setLoadedImageIds] = useState([]);\r\n    const [likedImages, setLikedImages] = useState(() => {\r\n        const savedLikedImages = localStorage.getItem(\"likedImages\");\r\n        return savedLikedImages ? JSON.parse(savedLikedImages) : [];\r\n    });\r\n\r\n    const navigate = useNavigate()\r\n    \r\n    const extractSearchTerm = (location) => {\r\n        const match = location.pathname.match(/\\/search\\/(.+)/);\r\n        return match ? match[1] : \"\";\r\n      };\r\n\r\n      const handlePhotoPageNavigation = (imageId) => {\r\n        navigate(`/photos/${imageId}`);\r\n    }\r\n\r\n    const location = useLocation();\r\n    const searchTerm = extractSearchTerm(location);\r\n    \r\n    useEffect(() => {\r\n        getLikedImages(likedImages)\r\n    },[likedImages])\r\n\r\n    const handleHoverOn = (event) => {\r\n        const searchImageBoxWrapper = event.target.closest(\".searchImageBoxWrapper\")\r\n        searchImageBoxWrapper.style.setProperty(\"--toggle-opacity\", \"1\")\r\n    }\r\n\r\n    const handleHoverOff = (event) => {\r\n        const searchImageBoxWrapper = event.target.closest(\".searchImageBoxWrapper\")\r\n        searchImageBoxWrapper.style.setProperty(\"--toggle-opacity\", \"0\")\r\n    }\r\n\r\n\r\n    const loader = useRef(null);\r\n\r\n    const handleImageLoad = (imageId) => {\r\n        setLoadedImageIds((prevImageIds) => [...prevImageIds, imageId]);\r\n        setTimeout(() => {\r\n            setIsLoading(false)\r\n        }, 1000);\r\n    };\r\n\r\n    const fetchImages = async (page) => {\r\n        if(!page || page >= 18) return\r\n        try {\r\n          const response = await fetch(`http://localhost:3001/api/search?page=${page}&q=${searchTerm}`);\r\n          const data = await response.json();\r\n      \r\n          const newImages = data.hits.reduce(\r\n            (columns, image, index) => {\r\n              const aspectRatio = (image.imageHeight / image.imageWidth) * 100;\r\n              columns[index % 3].push({ ...image, aspectRatio });\r\n              return columns;\r\n            },\r\n            [[], [], []]\r\n          );\r\n\r\n          const removeDuplicates = (prev, current) => {\r\n            const combined = [...prev, ...current];\r\n            return combined.filter(\r\n              (image, index, self) =>\r\n                index === self.findIndex((t) => t.id === image.id)\r\n            );\r\n          };\r\n\r\n          if (data.hits.length === 0) {\r\n            setIsLoading(false)\r\n            setNoResultsFound(true)\r\n          } else {\r\n            setNoResultsFound(false)\r\n          }\r\n          setAllImages((prevImages) => {\r\n            return [\r\n                removeDuplicates(prevImages[0], newImages[0]),\r\n                removeDuplicates(prevImages[1], newImages[1]),\r\n                removeDuplicates(prevImages[2], newImages[2]),\r\n            ];\r\n            });\r\n        } catch (error) {\r\n          console.error(\"Error fetching popular images:\", error);\r\n          setIsLoading(false)\r\n        }\r\n      };\r\n      \r\n      useEffect(() => {\r\n        setAllImages([[], [], []]);\r\n        setPage(0);\r\n      }, [searchTerm]);\r\n\r\n      useEffect(() => {\r\n        if (!loadingMoreImages) {\r\n          setLoadingMoreImages(true);\r\n          fetchImages(page);\r\n        }\r\n      }, [page]);\r\n      \r\n\r\n\r\n    useEffect(() => {\r\n        if (page >= 18 || noResultsFound) return\r\n    const observer = new IntersectionObserver(\r\n        (entries) => {\r\n        if (entries[0].isIntersecting && !loadingMoreImages) {\r\n            setPage((prevPage) => prevPage + 1);\r\n        }\r\n        },\r\n        { threshold: 1 }\r\n    );\r\n\r\n    if (loader.current) {\r\n        observer.observe(loader.current);\r\n    }\r\n\r\n    return () => {\r\n        if (loader.current) {\r\n        observer.unobserve(loader.current);\r\n        }\r\n    };\r\n    }, [loader]);\r\n\r\n    useEffect(() => {\r\n        if (loadingMoreImages) {\r\n          const timer = setTimeout(() => {\r\n            setLoadingMoreImages(false);\r\n            fetchImages(page + 1)\r\n          }, 2500);\r\n      \r\n          return () => {\r\n            clearTimeout(timer);\r\n          };\r\n        }\r\n      }, [loadingMoreImages]);\r\n\r\n\r\n      const downLoadImage = async (url) => {\r\n        if (downloadDisabled) return;\r\n      \r\n        setDownloadDisabled(true);\r\n        setTimeout(() => setDownloadDisabled(false), 3000); // Disable the button for 3 seconds\r\n      \r\n        try {\r\n          const response = await fetch(url);\r\n          const blob = await response.blob();\r\n          const fileName = url.split('/').pop().split('.')[0] + '.jpg';\r\n      \r\n          const link = document.createElement(\"a\");\r\n          link.download = fileName;\r\n          link.href = URL.createObjectURL(blob);\r\n          link.click();\r\n          URL.revokeObjectURL(link.href);\r\n        } catch (error) {\r\n          console.error(\"Error downloading image:\", error);\r\n        }\r\n      };\r\n      \r\n      const likeImage = (image) => {\r\n        const updatedLikedImages = [...likedImages, image];\r\n        setLikedImages(updatedLikedImages);\r\n        localStorage.setItem(\"likedImages\", JSON.stringify(updatedLikedImages));\r\n    };\r\n\r\n    const unLikeImage = (image) => {\r\n        const updatedLikedImages = likedImages.filter(\r\n            (likedImage) => likedImage.id !== image.id\r\n        );\r\n        setLikedImages(updatedLikedImages);\r\n        localStorage.setItem(\"likedImages\", JSON.stringify(updatedLikedImages));\r\n    };\r\n      \r\n    const isImageLiked = useCallback((image) => {\r\n        return likedImages.some(likedImage => likedImage.id === image.id);\r\n    }, [likedImages]);\r\n\r\n    return (\r\n        <section className=\"SearchWrapper\">\r\n            {isLoading &&(\r\n                <div className=\"loader-wrapper\">\r\n                    <span className=\"loader\"><span className=\"loader-inner\"></span></span>\r\n                </div>\r\n            )}\r\n            <div className=\"searchImagesResultsWrapper\">\r\n                <div className='searchImagesResultsContent'>\r\n                    <div className=\"searchImagesResultsColumnContent\">\r\n                            {allImages[0].map((image, index) => (\r\n                                <div className=\"searchImageBoxWrapper\" key={index} onMouseEnter={(event) => handleHoverOn(event)}\r\n                                onMouseLeave={(event) => handleHoverOff(event)}>\r\n                                    <div className=\"searchImageContainer\" \r\n                                    style={{ paddingBottom: loadedImageIds.includes(image.id) ? '0' : `${image.aspectRatio}%` }}>\r\n                                        <img\r\n                                        className=\"homeImage\"\r\n                                        src={image.webformatURL}\r\n                                        onClick={() => handlePhotoPageNavigation(image.id)}\r\n                                        width=\"100%\"\r\n                                        height=\"100%\"\r\n                                        onLoad={() => handleImageLoad(image.id)}\r\n                                        />\r\n                                    </div>\r\n                                    <div className='searchImageBoxBtnWrapper' style={{ opacity: \"var(--toggle-opacity)\"}}>\r\n                                        <button className='searchDownLoadBtn'disabled={downloadDisabled} \r\n                                        onClick={() => downLoadImage(image.webformatURL)}\r\n                                        ><img className='searchDownLoadImg' src={download} /></button>\r\n                                        {isImageLiked(image) ? (\r\n                                            <button className='searchLikeImgBtn liked' onClick={() => unLikeImage(image)}>\r\n                                                <img className='searchLikeImg liked' src={like} />\r\n                                            </button>\r\n                                        ) : (\r\n                                            <button className='searchLikeImgBtn' onClick={() => likeImage(image)}>\r\n                                                <img className='searchLikeImg' src={like} />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className='searchImgBoxTagsWrapper' style={{ opacity: \"var(--toggle-opacity)\"}}>\r\n                                        <span className='searchImgTagsTxt'>{image.tags}</span>\r\n                                    </div>\r\n                                </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"searchImagesResultsColumnContent\">\r\n                            {allImages[1].map((image, index) => (\r\n                                <div className=\"searchImageBoxWrapper\" key={index} onMouseEnter={(event) => handleHoverOn(event)}\r\n                                onMouseLeave={(event) => handleHoverOff(event)}>\r\n                                    <div className=\"searchImageContainer\" \r\n                                    style={{ paddingBottom: loadedImageIds.includes(image.id) ? '0' : `${image.aspectRatio}%` }}>\r\n                                        <img\r\n                                        className=\"homeImage\"\r\n                                        src={image.webformatURL}\r\n                                        onClick={() => handlePhotoPageNavigation(image.id)}\r\n                                        width=\"100%\"\r\n                                        height=\"100%\"\r\n                                        onLoad={() => handleImageLoad(image.id)}\r\n                                        />\r\n                                    </div>\r\n                                    <div className='searchImageBoxBtnWrapper' style={{ opacity: \"var(--toggle-opacity)\"}}>\r\n                                        <button className='searchDownLoadBtn' disabled={downloadDisabled} \r\n                                        onClick={() => downLoadImage(image.webformatURL)}\r\n                                        ><img className='searchDownLoadImg' src={download} /></button>\r\n                                        {isImageLiked(image) ? (\r\n                                            <button className='searchLikeImgBtn liked' onClick={() => unLikeImage(image)}>\r\n                                                <img className='searchLikeImg liked' src={like} />\r\n                                            </button>\r\n                                        ) : (\r\n                                            <button className='searchLikeImgBtn' onClick={() => likeImage(image)}>\r\n                                                <img className='searchLikeImg' src={like} />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className='searchImgBoxTagsWrapper' style={{ opacity: \"var(--toggle-opacity)\"}}>\r\n                                        <span className='searchImgTagsTxt'>{image.tags}</span>\r\n                                    </div>\r\n                                </div>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"searchImagesResultsColumnContent\">\r\n                            {allImages[2].map((image, index) => (\r\n                                <div className=\"searchImageBoxWrapper\" key={index} onMouseEnter={(event) => handleHoverOn(event)}\r\n                                onMouseLeave={(event) => handleHoverOff(event)}>\r\n                                    <div className=\"searchImageContainer\" \r\n                                    style={{ paddingBottom: loadedImageIds.includes(image.id) ? '0' : `${image.aspectRatio}%` }}>\r\n                                        <img\r\n                                        className=\"homeImage\"\r\n                                        src={image.webformatURL}\r\n                                        onClick={() => handlePhotoPageNavigation(image.id)}\r\n                                        width=\"100%\"\r\n                                        height=\"100%\"\r\n                                        onLoad={() => handleImageLoad(image.id)}\r\n                                        />\r\n                                    </div>\r\n                                    <div className='searchImageBoxBtnWrapper' style={{ opacity: \"var(--toggle-opacity)\"}}>\r\n                                        <button className='searchDownLoadBtn' disabled={downloadDisabled} \r\n                                        onClick={() => downLoadImage(image.webformatURL)}>\r\n                                            <img className='searchDownLoadImg' src={download} /></button>\r\n                                            {isImageLiked(image) ? (\r\n                                            <button className='searchLikeImgBtn liked' onClick={() => unLikeImage(image)}>\r\n                                                <img className='searchLikeImg liked' src={like} />\r\n                                            </button>\r\n                                        ) : (\r\n                                            <button className='searchLikeImgBtn' onClick={() => likeImage(image)}>\r\n                                                <img className='searchLikeImg' src={like} />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                    <div className='searchImgBoxTagsWrapper' style={{ opacity: \"var(--toggle-opacity)\"}}>\r\n                                        <span className='searchImgTagsTxt'>{image.tags}</span>\r\n                                    </div>\r\n                                </div>\r\n                                ))}\r\n                            </div>\r\n                    <div ref={loader} style={{ height: \"1px\", marginTop: \"-1px\" }}></div>\r\n                </div>\r\n                {loadingMoreImages && (\r\n                            <div className=\"bottom-loader-wrapper\">\r\n                                <div className=\"bottom-loader\"></div>\r\n                            </div>\r\n                            )}\r\n                {noResultsFound &&(\r\n                    <div className='searchNoResultsWrapper'>\r\n                        <span className='searchNoResultsTxt-1'>Sorry, we couldn't find any matches.</span>\r\n                        <span className='searchNoResultsTxt-2'>Try a different search input and try again!</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Search","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["_ref","getLikedImages","_useState","useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","loadingMoreImages","setLoadingMoreImages","_useState5","_useState6","page","setPage","_useState7","_useState8","allImages","setAllImages","_useState9","_useState10","downloadDisabled","setDownloadDisabled","_useState11","_useState12","noResultsFound","setNoResultsFound","_useState13","_useState14","loadedImageIds","setLoadedImageIds","_useState15","savedLikedImages","localStorage","getItem","JSON","parse","_useState16","likedImages","setLikedImages","navigate","useNavigate","handlePhotoPageNavigation","imageId","concat","searchTerm","location","match","pathname","extractSearchTerm","useLocation","useEffect","handleHoverOn","event","target","closest","style","setProperty","handleHoverOff","loader","useRef","handleImageLoad","prevImageIds","_toConsumableArray","setTimeout","fetchImages","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","data","newImages","removeDuplicates","wrap","_context","prev","next","abrupt","fetch","sent","json","hits","reduce","columns","image","index","aspectRatio","imageHeight","imageWidth","push","_objectSpread","current","filter","self","findIndex","t","id","length","prevImages","t0","console","error","stop","_x","apply","arguments","observer","IntersectionObserver","entries","isIntersecting","prevPage","threshold","observe","unobserve","timer","clearTimeout","downLoadImage","_ref3","_callee2","url","blob","fileName","link","_context2","split","pop","document","createElement","download","href","URL","createObjectURL","click","revokeObjectURL","_x2","likeImage","updatedLikedImages","setItem","stringify","unLikeImage","likedImage","isImageLiked","useCallback","some","_jsxs","className","children","_jsx","map","onMouseEnter","onMouseLeave","paddingBottom","includes","src","webformatURL","onClick","width","height","onLoad","opacity","disabled","like","tags","ref","marginTop","_defineProperty","obj","key","value","toPropertyKey","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","i","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}